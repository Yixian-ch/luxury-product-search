# å¥¢ä¾ˆå“ä»·æ ¼æŸ¥è¯¢ç½‘ç«™ - é¡¹ç›®æ¦‚è§ˆ

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ª**å¥¢ä¾ˆå“ç”µå•†å¹³å°**ï¼Œæ”¯æŒï¼š
- **ç”¨æˆ·ç«¯**ï¼šæœç´¢ã€æµè§ˆã€ç­›é€‰å¥¢ä¾ˆå“å•†å“
- **ç®¡ç†å‘˜ç«¯**ï¼šé€šè¿‡ Excel æ‰¹é‡å¯¼å…¥å•†å“æ•°æ®
- **æ•°æ®æŒä¹…åŒ–**ï¼šäº§å“æ•°æ®å­˜å‚¨åœ¨åç«¯æœåŠ¡å™¨ï¼Œæ”¯æŒå¤šç”¨æˆ·è®¿é—®

**æ ¸å¿ƒç‰¹æ€§**ï¼š
- âœ… Excel æ–‡ä»¶å¯¼å…¥ï¼ˆè‡ªåŠ¨å­—æ®µè§„èŒƒåŒ–ï¼‰
- âœ… æŒ‰å‚è€ƒå·ã€åç§°ã€å“ç‰Œç­‰å¤šç»´åº¦æœç´¢
- âœ… ä»·æ ¼æ’åºï¼ˆå‡åº/é™åºï¼‰å’Œå“ç‰Œæ’åº
- âœ… åˆ†é¡µå±•ç¤ºï¼ˆ6/12/24/48 é¡¹/é¡µï¼‰
- âœ… äº§å“è¯¦æƒ…å¼¹çª—
- âœ… ç®¡ç†å‘˜è®¤è¯ç³»ç»Ÿï¼ˆå¯†é’¥éªŒè¯ï¼‰
- âœ… å‰åç«¯åˆ†ç¦»éƒ¨ç½²ï¼ˆVercel + Renderï¼‰

---

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**ï¼šReact 18ï¼ˆCreate React Appï¼‰
- **æ ·å¼**ï¼šTailwind CSS
- **å›¾æ ‡**ï¼šlucide-react
- **æ•°æ®å¯¼å…¥**ï¼šXLSX åº“ï¼ˆ^0.18.5ï¼‰
- **éƒ¨ç½²**ï¼šVercel
- **çŠ¶æ€ç®¡ç†**ï¼šReact Hooks + sessionStorage + localStorage

### åç«¯
- **æ¡†æ¶**ï¼šExpress.jsï¼ˆ^4.18.4ï¼‰
- **ä¸­é—´ä»¶**ï¼šCORS
- **æ•°æ®å­˜å‚¨**ï¼šæ–‡ä»¶ç³»ç»Ÿï¼ˆ`server/data/products.json`ï¼‰
- **éƒ¨ç½²**ï¼šRender
- **è®¤è¯**ï¼šç¯å¢ƒå˜é‡ API å¯†é’¥

### å…¶ä»–
- **ç‰ˆæœ¬æ§åˆ¶**ï¼šGitHubï¼ˆ`Yixian-ch/luxury-product-search`ï¼‰
- **CI/CD**ï¼šVercel è‡ªåŠ¨éƒ¨ç½²ï¼ˆæ¨é€ GitHub è‡ªåŠ¨æ„å»ºï¼‰

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
temp-luxury/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.js                      # è·¯ç”±ç»„ä»¶ï¼ˆç™»å½•/ç”¨æˆ·è§†å›¾åˆ‡æ¢ï¼‰
â”‚   â”œâ”€â”€ LuxuryProductSearch.js      # ç”¨æˆ·è§†å›¾ï¼ˆäº§å“æœç´¢/å±•ç¤ºï¼‰
â”‚   â”œâ”€â”€ AdminPanel.js               # ç®¡ç†å‘˜è§†å›¾ï¼ˆExcel ä¸Šä¼ ï¼‰
â”‚   â”œâ”€â”€ index.js                    # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ App.css                     # å…¨å±€æ ·å¼
â”‚   â””â”€â”€ index.css                   # é‡ç½®æ ·å¼
â”œâ”€â”€ server/
â”‚   â”œâ”€â”€ index.js                    # Express API æœåŠ¡å™¨
â”‚   â”œâ”€â”€ package.json                # åç«¯ä¾èµ–
â”‚   â””â”€â”€ data/
â”‚       â””â”€â”€ products.json           # äº§å“æ•°æ®æ–‡ä»¶
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html                  # HTML æ¨¡æ¿
â”‚   â””â”€â”€ ...
â”œâ”€â”€ build/                          # ç”Ÿäº§ç¯å¢ƒæ„å»ºæ–‡ä»¶
â”œâ”€â”€ package.json                    # å‰ç«¯ä¾èµ–
â”œâ”€â”€ vercel.json                     # Vercel è·¯ç”±é…ç½®
â”œâ”€â”€ DEPLOYMENT_GUIDE.md             # éƒ¨ç½²æŒ‡å—
â””â”€â”€ PROJECT_OVERVIEW.md             # æœ¬æ–‡ä»¶
```

---

## ğŸ”„ æ•°æ®æµæ¶æ„

```
ç”¨æˆ·æµè§ˆå™¨
    â†“
Vercel (React å‰ç«¯)
    â†“
[GET /api/products] â†’ Render (Express åç«¯)
[POST /api/products] (éœ€è¦ admin key)
    â†“
server/data/products.json (SQLite æˆ– JSON æ–‡ä»¶)
```

### æ ¸å¿ƒ API ç«¯ç‚¹

| æ–¹æ³• | ç«¯ç‚¹ | è®¤è¯ | åŠŸèƒ½ |
|------|------|------|------|
| GET | `/api/products` | å¦ | è·å–æ‰€æœ‰äº§å“ |
| POST | `/api/products` | æ˜¯ï¼ˆx-admin-keyï¼‰ | æ›¿æ¢äº§å“æ•°æ® |
| GET | `/api/health` | å¦ | å¥åº·æ£€æŸ¥ |

---

## ğŸ” è®¤è¯æµç¨‹

### ç”¨æˆ·ç™»å½•åˆ°ç®¡ç†å‘˜
1. ç”¨æˆ·ç‚¹å‡»å³ä¸‹è§’è“è‰²"**ç®¡ç†å‘˜ç™»å½•**"æŒ‰é’®
2. å¼¹å‡ºæç¤ºæ¡†ï¼Œè¾“å…¥ç®¡ç†å‘˜å¯†é’¥
3. å‰ç«¯å°†å¯†é’¥ä¿å­˜åˆ° `sessionStorage`ï¼ˆ`admin_key`ï¼‰
4. ç•Œé¢åˆ‡æ¢åˆ° `AdminPanel` ç»„ä»¶

### ç®¡ç†å‘˜ä¸Šä¼  Excel
1. åœ¨ AdminPanel ä¸­æ‹–æ‹½æˆ–é€‰æ‹© Excel æ–‡ä»¶
2. å‰ç«¯è§£æ XLSXï¼š
   - è§„èŒƒåŒ–å­—æ®µåï¼ˆç§»é™¤é‡éŸ³ã€ä¸‹åˆ’çº¿ã€å°å†™ï¼‰
   - è§£æä»·æ ¼ä¸ºæ•°å­—
3. å‘é€ POST è¯·æ±‚åˆ° `/api/products`ï¼ŒåŒ…å«ï¼š
   - Headerï¼š`x-admin-key: <ç®¡ç†å‘˜å¯†é’¥>`
   - Bodyï¼šJSON æ ¼å¼çš„äº§å“æ•°æ®
4. åç«¯éªŒè¯å¯†é’¥æ˜¯å¦åŒ¹é… `ADMIN_KEY` ç¯å¢ƒå˜é‡
5. éªŒè¯æˆåŠŸ â†’ ä¿å­˜æ•°æ®åˆ° `products.json`
6. å‰ç«¯æ”¶åˆ° 200 å“åº” â†’ æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯

### å­—æ®µè§„èŒƒåŒ–æ˜ å°„

Excel å¯èƒ½çš„åˆ—å â†’ å†…éƒ¨å­—æ®µå
- `produit` / `Product` â†’ `produit`
- `designation` / `Designation` â†’ `designation`
- `reference` / `Reference` / `RÃ©fÃ©rence` â†’ `reference`
- `prix_vente` / `Prix Vente` / `Tarif` â†’ `prix_vente`ï¼ˆè‡ªåŠ¨è½¬ä¸ºæ•°å­—ï¼‰
- `marque` / `Brand` â†’ `marque`
- `couleur` / `Color` â†’ `couleur`
- `taille` / `Size` â†’ `taille`
- `link` / `Link` / `URL` â†’ `Link`

---

## ğŸš€ éƒ¨ç½²ç¯å¢ƒ

### Vercelï¼ˆå‰ç«¯ï¼‰
- **é¡¹ç›® URL**ï¼š`https://luxury-product-search-gn0v.vercel.app/` æˆ–ä½ çš„è‡ªå®šä¹‰åŸŸå
- **ç¯å¢ƒå˜é‡**ï¼š
  - `REACT_APP_API_URL` = `https://<ä½ çš„renderåº”ç”¨>.onrender.com`
- **è‡ªåŠ¨éƒ¨ç½²**ï¼šæ¯æ¬¡æ¨é€ GitHub main åˆ†æ”¯æ—¶è§¦å‘

### Renderï¼ˆåç«¯ï¼‰
- **é¡¹ç›® URL**ï¼š`https://<ä½ çš„renderåº”ç”¨>.onrender.com`
- **ç¯å¢ƒå˜é‡**ï¼š
  - `ADMIN_KEY` = ç®¡ç†å‘˜å¯†é’¥ï¼ˆä¾‹å¦‚ `"jsonisall"`ï¼‰
- **å¯åŠ¨å‘½ä»¤**ï¼š`node server/index.js`
- **Root Directory**ï¼š`server/`

---

## ğŸ“ æ–‡ä»¶è¯¦è§£

### `src/App.js` - è·¯ç”±ä¸»ç»„ä»¶
**èŒè´£**ï¼šç®¡ç†ç™»å½•çŠ¶æ€ï¼Œæ ¹æ®æ˜¯å¦ä¸ºç®¡ç†å‘˜åˆ‡æ¢ä¸åŒè§†å›¾

**å…³é”®çŠ¶æ€**ï¼š
- `isAdmin` - æ˜¯å¦ä»¥ç®¡ç†å‘˜èº«ä»½ç™»å½•
- ä» `sessionStorage` è¯»å– `admin_key`

**æ ¸å¿ƒé€»è¾‘**ï¼š
```javascript
if (isAdmin) 
  return <AdminPanel onLogout={handleAdminLogout} />  // ç®¡ç†å‘˜è§†å›¾
else 
  return <LuxuryProductSearch /> + ç™»å½•æŒ‰é’®  // ç”¨æˆ·è§†å›¾ + æµ®çª—æŒ‰é’®
```

### `src/LuxuryProductSearch.js` - ç”¨æˆ·äº§å“æœç´¢ç»„ä»¶
**èŒè´£**ï¼šäº§å“æœç´¢ã€æ’åºã€åˆ†é¡µã€è¯¦æƒ…å±•ç¤ºï¼ˆåªè¯»ï¼‰

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- ä»åç«¯ API è·å–äº§å“åˆ—è¡¨
- æŒ‰ `searchTerm` æœç´¢ï¼ˆå‚è€ƒå·ã€åç§°ã€å“ç‰Œç­‰ï¼‰
- `sortBy` æ’åºï¼ˆä»·æ ¼å‡åº/é™åºã€å“ç‰Œ A-Z/Z-Aï¼‰
- åˆ†é¡µæ˜¾ç¤ºï¼ˆ`pageSize` å’Œ `currentPage`ï¼‰
- ç‚¹å‡»äº§å“å¼¹å‡ºè¯¦æƒ…å¼¹çª—

**çŠ¶æ€å˜é‡**ï¼š
```javascript
const [products, setProducts]              // äº§å“åˆ—è¡¨
const [searchTerm, setSearchTerm]         // æœç´¢å…³é”®è¯
const [sortBy, setSortBy]                 // æ’åºæ–¹å¼
const [pageSize, setPageSize]             // æ¯é¡µæ¡æ•°
const [currentPage, setCurrentPage]       // å½“å‰é¡µç 
const [selectedProduct, setSelectedProduct]  // é€‰ä¸­çš„äº§å“ï¼ˆç”¨äºå¼¹çª—ï¼‰
```

### `src/AdminPanel.js` - ç®¡ç†å‘˜é¢æ¿
**èŒè´£**ï¼šæä¾› Excel ä¸Šä¼ ç•Œé¢å’Œæ•°æ®ç®¡ç†

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- æ‹–æ‹½æˆ–ç‚¹å‡»ä¸Šä¼  Excel æ–‡ä»¶
- è§£æ XLSX æ–‡ä»¶ï¼ˆä½¿ç”¨ä¸ LuxuryProductSearch ç›¸åŒçš„è§„èŒƒåŒ–é€»è¾‘ï¼‰
- å‘é€ POST è¯·æ±‚åˆ°åç«¯ï¼ŒåŒ…å« `x-admin-key` å¤´
- æ˜¾ç¤ºæˆåŠŸ/å¤±è´¥æ¶ˆæ¯
- é€€å‡ºç™»å½•æŒ‰é’®

**çŠ¶æ€å˜é‡**ï¼š
```javascript
const [isUploading, setIsUploading]       // æ˜¯å¦æ­£åœ¨ä¸Šä¼ 
const [message, setMessage]               // æç¤ºæ¶ˆæ¯
const [messageType, setMessageType]       // æ¶ˆæ¯ç±»å‹ï¼ˆsuccess/errorï¼‰
```

### `server/index.js` - Express åç«¯
**èŒè´£**ï¼šæä¾› REST APIï¼Œå­˜å‚¨å’Œæ£€ç´¢äº§å“æ•°æ®

**å…³é”®ç«¯ç‚¹**ï¼š
```javascript
GET /api/products
  â†’ è¿”å› server/data/products.json ä¸­çš„æ‰€æœ‰äº§å“

POST /api/products
  â†’ æ£€æŸ¥ x-admin-key æˆ– Authorization header
  â†’ å¯†é’¥åŒ¹é… â†’ ä¿å­˜ JSON body åˆ° products.json
  â†’ è¿”å› 200 æˆ– 401

GET /api/health
  â†’ è¿”å› { status: 'ok' }
```

### `vercel.json` - Vercel è·¯ç”±é…ç½®
**èŒè´£**ï¼šSPA è·¯ç”±é…ç½®å’Œé™æ€æ–‡ä»¶æœåŠ¡

**é‡è¦é…ç½®**ï¼š
```json
{
  "routes": [
    { "src": "^/(.*\\..*)", "dest": "/static/$1" },  // é™æ€æ–‡ä»¶ï¼ˆCSSã€JSï¼‰
    { "src": "/(.*)", "dest": "/index.html" }        // SPA è·¯ç”±å›é€€
  ]
}
```

è¿™æ ·é˜²æ­¢äº† HTML æ–‡ä»¶è¢«é”™è¯¯åœ°è¿”å›ç»™ JS/CSS æ–‡ä»¶è¯·æ±‚ã€‚

---

## ğŸ§ª æœ¬åœ°å¼€å‘æµç¨‹

### 1. å¯åŠ¨åç«¯
```bash
cd server
npm install
npm start    # ç›‘å¬ http://localhost:5000
```

### 2. å¯åŠ¨å‰ç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰
```bash
npm install
npm start    # ç›‘å¬ http://localhost:3000
```

### 3. æµ‹è¯•æµç¨‹
1. æ‰“å¼€ http://localhost:3000
2. ç‚¹å‡»"ç®¡ç†å‘˜ç™»å½•"ï¼Œè¾“å…¥ä»»æ„å¯†é’¥
3. åœ¨ AdminPanel ä¸Šä¼  Excel æ–‡ä»¶
4. æ£€æŸ¥ `server/data/products.json` æ˜¯å¦è¢«æ›´æ–°
5. åˆ·æ–°é¡µé¢ï¼ŒéªŒè¯äº§å“æ˜¯å¦ä»ç„¶æ˜¾ç¤ºï¼ˆæµ‹è¯•æŒä¹…åŒ–ï¼‰

---

## ğŸ”§ å¸¸è§é…ç½®

### ç¯å¢ƒå˜é‡

**Vercelï¼ˆå‰ç«¯ï¼‰**ï¼š
```
REACT_APP_API_URL=https://luxury-api.onrender.com
```

**Renderï¼ˆåç«¯ï¼‰**ï¼š
```
ADMIN_KEY=jsonisall
NODE_ENV=production
```

### ä¿®æ”¹ç®¡ç†å‘˜å¯†é’¥
1. åœ¨ Render ä»ªè¡¨æ¿ä¿®æ”¹ `ADMIN_KEY` ç¯å¢ƒå˜é‡
2. åº”ç”¨ä¼šè‡ªåŠ¨é‡å¯å¹¶ä½¿ç”¨æ–°å¯†é’¥
3. ç”¨æˆ·ä¸‹æ¬¡ç™»å½•æ—¶ä½¿ç”¨æ–°å¯†é’¥

### ä¿®æ”¹æ•°æ®åº“ä½ç½®
ç¼–è¾‘ `server/index.js` çš„ `DATA_FILE` å˜é‡ï¼š
```javascript
const DATA_FILE = process.env.DATA_DIR 
  ? `${process.env.DATA_DIR}/products.json`
  : './data/products.json';
```

---

## ğŸ“Š å½“å‰éƒ¨ç½²çŠ¶æ€

| ç»„ä»¶ | çŠ¶æ€ | URL |
|------|------|-----|
| å‰ç«¯ï¼ˆReactï¼‰ | âœ… å·²éƒ¨ç½² | https://luxury-product-search-gn0v.vercel.app/ |
| åç«¯ï¼ˆExpressï¼‰ | âœ… å·²éƒ¨ç½² | https://your-render-app.onrender.com |
| æ•°æ®åº“ï¼ˆJSONï¼‰ | âœ… å·²é…ç½® | `server/data/products.json` |
| è®¤è¯ç³»ç»Ÿ | âœ… å·²å®ç° | ç®¡ç†å‘˜å¯†é’¥éªŒè¯ |

---

## ğŸ¯ ä¸‹ä¸€æ­¥ä»»åŠ¡

- [ ] ç”Ÿäº§ç¯å¢ƒå®Œæ•´æµ‹è¯•
  - [ ] ç®¡ç†å‘˜ç™»å½•æµç¨‹
  - [ ] Excel ä¸Šä¼ åŠŸèƒ½
  - [ ] äº§å“æ•°æ®æŒä¹…åŒ–
  - [ ] ç”¨æˆ·æœç´¢åŠŸèƒ½
- [ ] ä¼˜åŒ– UI/UX
  - [ ] æ”¹è¿›å›¾ç‰‡ä¸Šä¼ /å±•ç¤º
  - [ ] å¢åŠ äº§å“å›¾ç‰‡å­—æ®µ
  - [ ] ä¼˜åŒ–ç§»åŠ¨ç«¯å“åº”
- [ ] åŠŸèƒ½æ‰©å±•
  - [ ] æ•°æ®åº“è¿ç§»ï¼ˆSQLite/PostgreSQLï¼‰
  - [ ] é«˜çº§æœç´¢è¿‡æ»¤
  - [ ] æ‰¹é‡ç¼–è¾‘åŠŸèƒ½
  - [ ] å¯¼å‡ºåŠŸèƒ½

---

## ğŸ› å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜ 1ï¼šè®¿é—®å‰ç«¯æ˜¾ç¤ºç©ºç™½é¡µé¢
**å¯èƒ½åŸå› **ï¼š
- Vercel è¿˜åœ¨æ„å»ºï¼ˆæŸ¥çœ‹ Vercel ä»ªè¡¨æ¿ï¼‰
- `REACT_APP_API_URL` é…ç½®é”™è¯¯
- æµè§ˆå™¨ç¼“å­˜é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# 1. æ£€æŸ¥ Vercel éƒ¨ç½²çŠ¶æ€
# 2. åˆ·æ–°æµè§ˆå™¨ï¼ˆCtrl+Shift+R å¼ºåˆ¶åˆ·æ–°ï¼‰
# 3. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ï¼ˆF12 â†’ Consoleï¼‰
```

### é—®é¢˜ 2ï¼šç®¡ç†å‘˜ç™»å½•åæ˜¾ç¤º 401 é”™è¯¯
**å¯èƒ½åŸå› **ï¼š
- è¾“å…¥çš„å¯†é’¥ä¸ Render `ADMIN_KEY` ä¸åŒ¹é…
- Render åº”ç”¨æœªå¯åŠ¨

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# 1. æ£€æŸ¥ Render åº”ç”¨çŠ¶æ€ï¼ˆç»¿è‰² = è¿è¡Œä¸­ï¼‰
# 2. ç¡®è®¤è¾“å…¥çš„å¯†é’¥ä¸ç¯å¢ƒå˜é‡å®Œå…¨ä¸€è‡´
# 3. æŸ¥çœ‹ Render æ—¥å¿—
```

### é—®é¢˜ 3ï¼šä¸Šä¼  Excel å¤±è´¥
**å¯èƒ½åŸå› **ï¼š
- æ–‡ä»¶æ ¼å¼ä¸æ˜¯ .xlsx
- Excel åˆ—åä¸è¢«è¯†åˆ«
- åç«¯æ— æ³•å†™å…¥æ–‡ä»¶

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# 1. ç¡®ä¿æ–‡ä»¶æ˜¯ .xlsx æ ¼å¼ï¼ˆä¸æ”¯æŒ .xls æˆ– .csvï¼‰
# 2. æ£€æŸ¥ Excel åˆ—åï¼ˆè§å­—æ®µè§„èŒƒåŒ–è¡¨ï¼‰
# 3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
```

---

## ğŸ“š ç›¸å…³èµ„æº

- **GitHub ä»“åº“**ï¼šhttps://github.com/Yixian-ch/luxury-product-search
- **Vercel ä»ªè¡¨æ¿**ï¼šhttps://vercel.com/dashboard
- **Render ä»ªè¡¨æ¿**ï¼šhttps://dashboard.render.com
- **XLSX æ–‡æ¡£**ï¼šhttps://docs.sheetjs.com/
- **React æ–‡æ¡£**ï¼šhttps://react.dev
- **Express æ–‡æ¡£**ï¼šhttps://expressjs.com

---

## ğŸ’¡ å¼€å‘å»ºè®®

1. **æœ¬åœ°æµ‹è¯•ä¼˜å…ˆ**ï¼šåœ¨ `npm start` ç¯å¢ƒä¸­æµ‹è¯•åŠŸèƒ½
2. **æäº¤å‰æ£€æŸ¥**ï¼šç¡®ä¿ä»£ç é€šè¿‡ ESLintï¼ˆ`npm run build`ï¼‰
3. **Git æäº¤ä¿¡æ¯**ï¼šä½¿ç”¨æ¸…æ™°çš„è‹±æ–‡æè¿°ï¼ˆä¾‹å¦‚ "Fix: remove unused imports"ï¼‰
4. **æµ‹è¯•æµç¨‹**ï¼š
   - æœ¬åœ°å¼€å‘ â†’ æäº¤ GitHub â†’ Vercel è‡ªåŠ¨éƒ¨ç½² â†’ æµ‹è¯•ç”Ÿäº§ç¯å¢ƒ

---

**æœ€åæ›´æ–°**ï¼š2025å¹´11æœˆ11æ—¥  
**ç»´æŠ¤è€…**ï¼šYixian-ch
